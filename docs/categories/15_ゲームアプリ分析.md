# ゲームアプリ分析

**調査日**: 2025年12月25日
**対象**: 103件のオープンソースゲームアプリ

---

## 概要

オープンソースのiOSゲームは、SpriteKit、SceneKit、Metal、GameplayKitなどApple独自フレームワークの学習に最適なリソース。クラシックゲームのリメイクから最新ARゲームまで多様。

---

## トップアプリ

| スター | アプリ | 言語 | 説明 |
|--------|--------|------|------|
| 25,985 | Mindustry | Java/Kotlin | 工場管理TD/RTS |
| 17,655 | osu! | C# | リズムゲーム |
| 9,704 | FlappySwift | Swift | Flappy Birdクローン |
| 3,139 | 2048 | Swift | 数字パズル |
| 1,588 | Canabalt | ObjC | インフィニットランナー |
| 1,475 | Moonlight | C++ | ゲームストリーミング |
| 1,120 | 2048 | ObjC | 数字パズル |
| 821 | Doom Classic | ObjC | FPSクラシック |
| 814 | Tiny Wings Remake | ObjC | 物理パズル |
| 809 | SaveTheDot | Swift | 回避ゲーム |
| 729 | 2048 SwiftUI | Swift | SwiftUI版2048 |

---

## カテゴリ別分類

### パズルゲーム（11件）

| アプリ | スター | 特徴 |
|--------|--------|------|
| 2048 (Swift) | 3,139 | シンプルな数字パズル |
| 2048 SwiftUI | 729 | SwiftUI実装 |
| Simon Tatham's Puzzles | 192 | 38種類のパズル |
| Bridges | 179 | 橋建設パズル |
| Skeleton Key | 117 | 鍵移動パズル |

**学習ポイント**:
- ゲームロジックとUI分離
- 状態管理パターン
- アニメーション実装

### クラシックリメイク（18件）

| アプリ | スター | オリジナル |
|--------|--------|-----------|
| FlappySwift | 9,704 | Flappy Bird |
| Doom Classic | 821 | Doom |
| Tiny Wings Remake | 814 | Tiny Wings |
| Wolfenstein 3D | 532 | Wolfenstein 3D |
| Doom Classic 2 | 333 | Doom 2 |
| Gorillas | 247 | QBasic Gorillas |

**学習ポイント**:
- レトロゲームの現代実装
- ゲームエンジン移植
- パフォーマンス最適化

### ストラテジー/シミュレーション（7件）

| アプリ | スター | 特徴 |
|--------|--------|------|
| Mindustry | 25,985 | 工場管理+TD |
| Hostile Takeover | 196 | RTS |
| Castle Hassle | 115 | リアルタイム建築 |

### ARゲーム（2件）

| アプリ | スター | 技術 |
|--------|--------|------|
| ARbusters | 109 | ARKit |
| AR MultiPendulum | 44 | visionOS対応 |

---

## 技術スタック分析

### 言語分布

| 言語 | 件数 | 割合 |
|------|------|------|
| Swift | 44 | 43% |
| Objective-C | 25 | 24% |
| その他（Java, C#, C++） | 34 | 33% |

### フレームワーク使用

| フレームワーク | 用途 |
|---------------|------|
| SpriteKit | 2Dゲーム（最多使用） |
| SceneKit | 3Dゲーム |
| GameplayKit | AI、状態管理 |
| Metal | 高性能グラフィックス |
| ARKit | 拡張現実ゲーム |

---

## 実装パターン

### SpriteKitゲーム構造

```swift
// 典型的なゲームシーン
class GameScene: SKScene {
    var player: SKSpriteNode!
    var scoreLabel: SKLabelNode!
    var score = 0

    override func didMove(to view: SKView) {
        setupScene()
        startGame()
    }

    func setupScene() {
        physicsWorld.gravity = CGVector(dx: 0, dy: -9.8)
        physicsWorld.contactDelegate = self

        player = SKSpriteNode(imageNamed: "player")
        player.position = CGPoint(x: frame.midX, y: frame.midY)
        player.physicsBody = SKPhysicsBody(circleOfRadius: player.size.width / 2)
        addChild(player)
    }

    override func update(_ currentTime: TimeInterval) {
        // ゲームループ
    }
}
```

### GameplayKit状態管理

```swift
// ゲーム状態マシン
class GameState: GKState {
    unowned let scene: GameScene

    init(scene: GameScene) {
        self.scene = scene
    }
}

class PlayingState: GameState {
    override func isValidNextState(_ stateClass: AnyClass) -> Bool {
        return stateClass is PausedState.Type || stateClass is GameOverState.Type
    }

    override func didEnter(from previousState: GKState?) {
        scene.isPaused = false
    }
}

class GameOverState: GameState {
    override func didEnter(from previousState: GKState?) {
        scene.showGameOver()
    }
}
```

### 物理エンジン設定

```swift
// 衝突カテゴリ
struct PhysicsCategory {
    static let none: UInt32 = 0
    static let player: UInt32 = 0b1
    static let enemy: UInt32 = 0b10
    static let projectile: UInt32 = 0b100
}

extension GameScene: SKPhysicsContactDelegate {
    func didBegin(_ contact: SKPhysicsContact) {
        let collision = contact.bodyA.categoryBitMask | contact.bodyB.categoryBitMask

        if collision == PhysicsCategory.player | PhysicsCategory.enemy {
            gameOver()
        }
    }
}
```

---

## SwiftUIゲーム開発

### 2048 SwiftUI実装例

```swift
struct GameView: View {
    @StateObject var viewModel = GameViewModel()

    var body: some View {
        VStack {
            ScoreView(score: viewModel.score)

            GridView(grid: viewModel.grid)
                .gesture(
                    DragGesture()
                        .onEnded { gesture in
                            viewModel.handleSwipe(gesture.translation)
                        }
                )

            Button("新規ゲーム") {
                viewModel.newGame()
            }
        }
    }
}

struct TileView: View {
    let value: Int

    var body: some View {
        Text(value > 0 ? "\(value)" : "")
            .font(.title)
            .frame(width: 70, height: 70)
            .background(backgroundColor)
            .cornerRadius(8)
            .animation(.easeInOut(duration: 0.1), value: value)
    }

    var backgroundColor: Color {
        switch value {
        case 2: return .yellow.opacity(0.3)
        case 4: return .yellow.opacity(0.5)
        case 8: return .orange.opacity(0.5)
        // ... 他の値
        default: return .gray.opacity(0.3)
        }
    }
}
```

---

## 学習リソース

### 入門向け

| アプリ | スター | 学習内容 |
|--------|--------|----------|
| 2048 SwiftUI | 729 | SwiftUI基礎、状態管理 |
| FlappySwift | 9,704 | SpriteKit入門 |
| SaveTheDot | 809 | シンプルなゲームロジック |

### 中級者向け

| アプリ | スター | 学習内容 |
|--------|--------|----------|
| CardsAgainst | 587 | マルチプレイヤー |
| Legend-Wings | 557 | 本格シューティング |
| Chess | 202 | 複雑なゲームロジック |

### 上級者向け

| アプリ | スター | 学習内容 |
|--------|--------|----------|
| Doom Classic | 821 | レガシーコード移植 |
| Mindustry | 25,985 | 大規模ゲーム設計 |
| osu! | 17,655 | パフォーマンス最適化 |

---

## Swiftパッケージ機会

### GameKitHelper

**機能**:
- SpriteKitヘルパー
- 物理設定簡略化
- アニメーション生成

### PuzzleEngineKit

**機能**:
- パズルゲームフレームワーク
- グリッドシステム
- スコア管理

### SwiftUIGameKit

**機能**:
- SwiftUIゲームループ
- ジェスチャー処理
- アニメーション統合

---

## 開発上の考慮事項

### パフォーマンス

| 項目 | 対策 |
|------|------|
| フレームレート | 60fps維持 |
| メモリ | テクスチャアトラス使用 |
| バッテリー | 効率的なゲームループ |
| 描画 | バッチ処理 |

### ゲームデザイン

| 要素 | ベストプラクティス |
|------|-------------------|
| 難易度曲線 | 段階的に上昇 |
| フィードバック | 即時かつ明確 |
| リプレイ性 | ランダム要素 |
| 報酬システム | 適切な頻度 |

---

## トレンド

### 成長中
- SwiftUIゲーム
- ARゲーム
- visionOS対応

### 安定
- SpriteKit 2D
- パズルゲーム
- カジュアルゲーム

### 注目
- Metal + SwiftUI統合
- マルチプラットフォーム
- ゲームセンター統合

